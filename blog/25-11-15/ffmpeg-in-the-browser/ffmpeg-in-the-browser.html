

<!-- headers
      cross-origin-isolate
-->


<!DOCTYPE html>

<html lang=en>

      <head>
            <meta charset=utf-8>
            
            <title>
                  FFMPEG In The Browser
            </title>

            <meta name=description content='Learn how to run FFmpeg directly in the browser using WebAssembly. This guide covers setup, performance tips, and practical examples for video and audio processing without server-side dependencies.'>

            <base href='https://ext-code.com/blog/25-11-15/ffmpeg-in-the-browser/'>
            <link rel=canonical href='https://ext-code.com/blog/25-11-15/ffmpeg-in-the-browser/ffmpeg-in-the-browser.html'>
            
            <link rel=icon type='image/png' href='/blog/image/blog-30.png'>
            <meta name=viewport content='width=device-width, initial-scale=1'>

            <script type='application/ld+json'>
                  {
                        "@context"            : "https://schema.org",
                        "@type"               : "TechArticle",
                        "headline"            : "FFMPEG In The Browser",
                        "description"         : "Learn how to run FFmpeg directly in the browser using WebAssembly. This guide covers setup, performance tips, and practical examples for video and audio processing without server-side dependencies.",
                        "author"              : {"@type":"Person","name":"Matthew Richards"},
                        "datePublished"       : "2025-11-15",
                        "dateModified"        : "2025-11-15",
                        "mainEntityOfPage"    : {"@type":"WebPage","@id":"https://ext-code.com/blog/25-11-15/ffmpeg-in-the-browser/ffmpeg-in-the-browser.html"},
                        "publisher"           : {"@type":"Organization","name":"ext-code.com","logo":{"@type":"ImageObject","url":"https://ext-code.com/favicon.ico"}},
                  }
            </script>

            <script src='https://ajaxorg.github.io/ace-builds/src-noconflict/ace.js'></script>


            <script src='https://libs.ext-code.com/js/dom/component/component.js'></script>
            
            <script init>
                                                                                console.clear();
                                                                                console.log('');
                                                                                console.log();
                                                                                console.json=v=>console.log(JSON.stringify(v,null,4));
        var df=true,version='v2.0'
        ;
        
        var ace;
        
        var ext;
        var $;
        var datatype;
        var menumod;
        var keydown;
        var debug;
        
        var menu;

        var hdr;
        var log;
        var vcdemo;
        var vctldr;
        var fwdemo;
        var fwtldr;
        var ffprobe;
        var m4demo;
        
        
        
  //:
  
  
        async function init(){
          
              menu    = menumod();
              
              hdr     = mod['blog-hdr'];
              log     = mod['log-mod'];
              
              vcdemo    = mod['videoconverter-demo'];
              vctldr    = mod['videoconverter-tldr'];
              fwdemo    = mod['ffmpeg-wasm-demo'];
              fwtldr    = mod['ffmpeg-wasm-tldr'];
              ffprobe   = mod.ffprobe;
              m4demo    = mod['mp4box-demo'];
              
              hdr.initmod({ext,$});
              log.initmod({ext,$});
              vcdemo.initmod({ext,$,menu,ace});
              vctldr.initmod({ext,$,menu,ace});
              fwdemo.initmod({ext,$,menu,ace});
              fwtldr.initmod({ext,$,menu,ace});
              ffprobe.initmod({ext,$,menu,ace});
              m4demo.initmod({ext,$,menu,ace});

              
              await Promise.all([
                    hdr.init(),
                    log.init(),
                    vcdemo.init(),
                    vctldr.init(),
                    fwdemo.init(),
                    fwtldr.init(),
                    ffprobe.init(),
                    m4demo.init(),
              ]);
              
              
              initdom(document.body);
              
              
        }//init
        
        
(async()=>{

        mod.stack.add;
        
        ({ext}   = await import('https://libs.ext-code.com/js/io/ext-loader/ext-loader.m.js'));
        
        var promise   = ext.load.libs(
              'js/dom/$.js',
              'js/core/datatype.js',
              'js/dom/menumod/menumod.js',
              'js/dom/keydown/keydown.js',
              'js/debug/debug.js',
        );
        
        [$,datatype,menumod,keydown,debug]    = await promise;
        
        mod.stack.complete;

})();
  
            </script init>


            
            <link rel=stylesheet href='/blog/css/blog.css'>

            <style>


            
  html
    {height:100%;font-family:arial}
  body
    {min-height:calc(100% - 40px);display:flex;flex-direction:column;gap:20px;margin:20px;align-items:center;
      padding-bottom:200px;
    }
  body>*
    {max-width:1400px;width:100%}
    
  [component]
    {display:none}
    
  .description 
    {max-width:1000px;text-align:justify;border-left:4px solid #4a90e2;padding:1rem 2rem;
      background-color:#f9f9f9;font-family:system-ui,sans-serif;font-size:1rem;line-height:1.6;color:#333}
  .description>p
    {margin:0}
  .description > p+p
    {margin:10px 0}


  .blog-text 
    {margin:1.5rem auto;padding:1.25rem 1.75rem;background-color:#fcfcfc;/*#f9f9f9*/font-family:system-ui, sans-serif;font-size:1rem;line-height:2;
      color:#333;text-align:justify;border-radius:4px}      
  .blog-text h2,.blog-text h3 
    {margin-top:1.5rem;margin-bottom:0.75rem;font-weight:600;color:#222;}
  .blog-text p 
    {margin:0 0 1rem 0;}








  code
    {font-family:monospace;background:whitesmoke}
  code.inline
    {display:inline;padding:5px 10px}



  a
    {color:#4a90e2;text-decoration:none;font-weight:500}
  a:hover 
    {text-decoration:underline}
  .link-domain
    {font-size:0.85rem;color:#777;margin-left:0.25rem}
  .link-domain::before 
    {content:'['}
  .link-domain::after
    {content:']'}
  .link-txt
    {}

  input
    {font-size:16px;padding:5px 7px;box-sizing:border-box;}
  input[type=button]
    {cursor:pointer}


  snippet-html-console,snippet-console
    {margin:30px 0;display:block}


            
            </style>
            
      </head>
      
      
      <body>


            <blog-hdr component=grp1>      
                  <h1 class=title>
                       FFMPEG In The Browser 
                  </h1>
                  <time slot=date datetime=2025-11-15>
                        15 Nov 2025
                  </time>
            </blog-hdr>
      
            <div class=description>
                  <p>
                        Learn how to run FFmpeg directly in the browser using WebAssembly. This guide covers setup, performance tips,
                        and practical examples for video and audio processing without server-side dependencies.
                  </p>
                  <a href='https://www.ffmpeg.org/ffmpeg.html#Main-options'>
                        <span>
                              ffmpeg / Main options
                        </span>
                        <span class=link-domain>
                              ffmpeg.org
                        </span>
                  </a>
                  <p>
                        ffmpeg has been compiled to web assembley via emscripten a number of times
                        typically it will run in a worker thread since by its nature it is very computationally heavy and will tie up the main thread
                  </p>
                  <a href='https://emscripten.org/docs/api_reference/module.html#affecting-execution'>
                        <span>
                              emscripten : Module object
                        </span>
                        <span class=link-domain>
                              emscripten.org
                        </span>
                  </a>
            </div>

            <section class=blog-text>
                  <h3>
                        videoconverter.js
                  </h3>
                  <a href='https://github.com/bgrins/videoconverter.js/tree/master'>
                        <span>
                              bgrins / videoconverter.js
                        </span>
                        <span class=link-domain>
                              github.com
                        </span>
                  </a>
                  <p>
                        there are two variants, both are 
                        <br>
                        <b>
                              ffmpeg version 2.2.1 Copyright (c) 2000-2014 the FFmpeg developers
                        </b>
                        <br>
                        <a href='https://github.com/bgrins/videoconverter.js/blob/master/build/ffmpeg.js'>
                              ffmpeg.js -- https://github.com/bgrins/videoconverter.js/blob/master/build/ffmpeg.js 22.5 MB
                        </a>
                        <br>
                        <a href='https://github.com/bgrins/videoconverter.js/blob/master/build/ffmpeg.js'>
                              ffmpeg-all-codecs.js -- https://github.com/bgrins/videoconverter.js/blob/master/build/ffmpeg-all-codecs.js 26.3 MB
                        </a>
                        <br>
                        the files themselves are available from ( right click save as )
                        <br>
                        <a href='https://raw.githubusercontent.combgrins/videoconverter.js/master/build/ffmpeg.js'>
                              ffmpeg.js -- https://raw.githubusercontent.combgrins/videoconverter.js/master/build/ffmpeg.js
                        </a>
                        <br>
                        <a href='https://raw.githubusercontent.com/bgrins/videoconverter.js/master/build/ffmpeg-all-codecs.js'>
                              ffmpeg-all-codecs.js -- https://raw.githubusercontent.com/bgrins/videoconverter.js/master/build/ffmpeg-all-codecs.js
                        </a>
                        <br>
                        in my testing the all-codecs version is about 4 times slower
                        <br>
                        they are just javascript files, so you can use them by incuding a single, albeit quite large, file
                        <br>
                        it exposes a single function ffmpeg_run
                        <br>
                        note. there was mention of
                        <a href=''>
                              muaz-khan / Ffmpeg.js 
                              <span class=link-domain>
                                    github.com
                              </span>
                        </a>
                        <br>
                        it does offer some additional exmaple code, but as far as i can tell its simply a varaiant of ffmpeg.js from videoconverter.js
                  </p>
                  
                  
                  <snippet-html-console id=videoconverter-demo src='ex/videoconverter/demo.html' component></snippet-html-console>
                  
                  <p>
                        tl;dr
                  </p>
                  
                  <snippet-html-console id=videoconverter-tldr src='ex/videoconverter/demo-tldr.html' component></snippet-html-console>
                  
            </section>
            
            <div class=hr></div>
            
            <section class=blog-text>
                  <h3>
                        ffmpeg.wasm
                  </h3>
                  <a href=''>
                        ffmpegwasm / ffmpeg.wasm
                        <span class=link-domain>
                              github.com
                        </span>
                  </a>
                  <br>
                  <b>
                        ffmpeg version 5.1.4 Copyright (c) 2000-2023 the FFmpeg developers
                  </b>
                  <br>
                  this version i dont think was built to run purely in the browser and so i wrote a little patch for it so it can load its files
                  from a remote server, such as github.com
                  <br>
                  its a little bit slower than the versions above, but quite a bit newer
                  <br>
                  the files that are needed are
                  <br>
                  <a href='https://cdn.jsdelivr.net/npm/@ffmpeg/core@0.12.10/dist/umd/ffmpeg-core.js'>
                        ffmpeg-core.js -- https://cdn.jsdelivr.net/npm/@ffmpeg/core@0.12.10/dist/umd/ffmpeg-core.js
                  </a>
                  <br>
                  <a href='https://cdn.jsdelivr.net/npm/@ffmpeg/util@0.12.2/dist/cjs/index.js'>
                        index.js -- https://cdn.jsdelivr.net/npm/@ffmpeg/util@0.12.2/dist/cjs/index.js
                  </a>
                  <br>
                  <a href='https://cdn.jsdelivr.net/npm/@ffmpeg/ffmpeg@0.12.15/dist/umd/814.ffmpeg.js'>
                        814.ffmpeg.js -- https://cdn.jsdelivr.net/npm/@ffmpeg/ffmpeg@0.12.15/dist/umd/814.ffmpeg.js
                  </a>
                  <br>
                  <a href='https://cdn.jsdelivr.net/npm/@ffmpeg/ffmpeg@0.12.15/dist/umd/ffmpeg.js'>
                        ffmpeg.js -- https://cdn.jsdelivr.net/npm/@ffmpeg/ffmpeg@0.12.15/dist/umd/ffmpeg.js
                  </a>
                  <br>
                  <a href='https://cdn.jsdelivr.net/npm/@ffmpeg/core@0.12.10/dist/umd/ffmpeg-core.wasm'>
                        ffmpeg-core.wasm -- https://cdn.jsdelivr.net/npm/@ffmpeg/core@0.12.10/dist/umd/ffmpeg-core.wasm
                  </a>
                  <br>
                  
                  <snippet-html-console id=ffmpeg-wasm-demo component src='ex/ffmpeg-wasm/demo.html'></snippet-html-console>
                  
                  <p>
                        tl;dr
                  </p>
                  
                  <snippet-console id=ffmpeg-wasm-tldr component src='ex/ffmpeg-wasm/demo-tldr.js'></snippet-console>
                  
            </section>


            <hr>
            
            
            <section class=blog-text>
                  <h3>
                        Kagami / ffmpeg.js
                  </h3>
                  <a href='https://github.com/Kagami/ffmpeg.js/tree/master'>
                        https://github.com/Kagami/ffmpeg.js/tree/master
                  </a>
                  <br>
                  ive noticed this addition library, but havent had time to look at it further, i'll try to come back to it, and see if
                  it is actually an independent version
                  <br>
            
            </section>


            <hr>
            
            <section class=blog-text>
                  <h3>
                        ffprobe in the browser
                  </h3>
                  <p>
                        i came across this to day, so thought i would include it also
                        <br>
                        <a href='https://www.npmjs.com/package/ffprobe-wasm'>
                              https://www.npmjs.com/package/ffprobe-wasm
                        </a>                        
                  </p>
                  
                  <snippet-html-console id=ffprobe src='ex/ffprobe/ffrobe.html' component></snippet-html-console>
                  
            </section>

            <hr>
            
            <section class=blog-text>
                  <h3>
                        media mimetypes
                  </h3>
                  <p>
                        when working with audio / video its often helpful to determine the mime types of the codecs in use, 
                        actually this only works for mp4
                  </p>
                  
                  <snippet-html-console id=mp4box-demo src='ex/mp4box/ex.html' component></snippet-html-console>
            
            </section>




            <section class=blog-text>
                  <h3>
                        Further Reading : Minimal h.264-in-javascript overview
                  </h3>
                  <p>
                        If you only need to take an H.264 keyframe (IDR) and the next frames and turn a single decoded frame into a JPEG,
                        the most “minimal” modern approach in the browser is WebCodecs. It lets you feed compressed H.264 bytes,
                        get decoded VideoFrames, draw them to a canvas, and export as JPEG—no heavy libraries required. Key detail:
                        you must provide the AVCDecoderConfigRecord (SPS/PPS) in the decoder config or immediately after configure,
                        otherwise decoding will fail.
                  </p>
                  
                  <h4>
                        Practical options
                  </h4>
                  <ul>
                        <li>
                              WebCodecs (recommended): Native browser API. Minimal code, no external library downloads, good performance.
                              Requires you to parse or otherwise obtain SPS/PPS for the decoder config.
                        </li>
                        <li>
                              Broadway (JS/asm.js/WASM): A historical JavaScript H.264 decoder compiled from Android’s C decoder via Emscripten.
                              Runs fully in JS without browser codecs, but is heavier and slower compared to hardware/native paths.
                              Useful if WebCodecs isn’t available or you need a pure-JS path.                  
                        </li>
                  </ul>
                  <h3>
                        Minimal webcodecs example: decode one frame and export jpeg
                  </h3>
                  
                  <snippet-editor component src='ex/webcodec-api.js'></snippet-editor>

                  <h4>
                        Tips:
                  </h4>
                  <ul>
                        <li>
                              You must provide a keyframe right after configure or flush. For AVC/H.264, the SPS/PPS must be supplied in the description field for VideoDecoderConfig.
                              If not, you’ll get a “key frame is required” style error.
                        </li>
                        <li>
                              WebCodecs exposes raw decoded frames efficiently, avoiding the need for shipping external codec libraries.
                        </li>
                  </ul>
                  
                  <h4>
                        Getting the sps/pps (avc decoder config)
                  </h4>
                  <ul>
                        <li>
                              <b>From container:</b> If your H.264 comes from MP4, read the avcC box (AVCDecoderConfigurationRecord). It contains SPS/PPS you can pass as description.
                        </li>
                        <li>
                              <b>From Annex B elementary stream:</b> Extract NAL units with start codes 00 00 00 01 (or 00 00 01). Find NAL types: 7 = SPS, 8 = PPS; 5 = IDR.
                              Collect SPS/PPS bytes and build a description buffer compatible with your browser’s AVCC expectations.
                        </li>
                        <li>
                              <b>Why this matters:</b> The decoder uses SPS/PPS to understand frame dimensions, profiles, and other parameters;
                              skipping them is the most common reason minimal examples fail.
                              <br>
                              <a href='https://stackoverflow.com/questions/79264506/error-using-webcodecs-to-decode-h264-data-and-display-on-browser-from-http-fetch'>
                                    Error using webcodecs to decode h264 data and display on browser from http fetch
                                    <span class=link-domain>
                                          stackoverflow.com
                                    </span>
                              </a>
                        </li>
                  </ul>
                  
                  <h4>
                        Converting the decoded frame to jpeg
                  </h4>
                  <ul>
                        <li>
                              <b>Canvas route:</b> Convert the VideoFrame to an ImageBitmap, draw to a canvas, then canvas.toBlob('image/jpeg').
                              This is the simplest pipeline for a single snapshot.
                        </li>
                        <li>
                              <b>Alternatives:</b> Use VideoFrame directly with HTMLVideoElement/WebGL for preview and only snapshot when needed;
                              then export via canvas as above. Guides and examples show decode pipelines using WebCodecs for both playback and encoding.                        
                              <br>
                              <a href='https://www.slingacademy.com/article/decode-and-encode-video-with-the-webcodecs-api-in-javascript/'>
                                    Decode and Encode Video with the WebCodecs API in JavaScript
                                    <span class=link-domain>
                                          slingacademy.com
                                    </span>
                              </a>
                        </li>
                  </ul>

                  <h4>                  
                        Pure-js fallback: broadway
                  </h4>
                  <p>
                        If you truly need a codec that runs without relying on the browser’s built-in decoders, Broadway is a project that compiled Android’s
                        H.264 decoder to JavaScript via Emscripten. It can decode frames directly in JS, but expect significantly lower performance and more
                        complex integration compared to WebCodecs. It’s mainly of historical/educational interest today.
                        <br>
                        <a href='https://github.com/LongJohnCoder/Broadway264'>
                              LongJohnCoder / Broadway264
                              <span class=link-domain>
                                    github.com
                              </span>
                        </a>
                  </p>
                  
            </section>






                        

            <log-mod component></log-mod>

            
      </body>

      
      <script>
      

        function initdom(rootnode){

          
              hdr.initdom();
              log.initdom();
              
              vcdemo.initdom();
              vctldr.initdom();
              
              fwdemo.initdom();
              fwtldr.initdom();
              
              ffprobe.initdom();
              
              m4demo.initdom();
              
              
              
        }//initdom
        

  //:
  
  
      </script>
      
</html>







