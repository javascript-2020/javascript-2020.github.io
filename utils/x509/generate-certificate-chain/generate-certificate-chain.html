


<html>

    <head>

        <title>javascript-2020.github.io</title>
        
        <base href='https://javascript-2020.github.io/utils/generate-https-certificate/generate-https-certificate.html'>
        <link rel='shortcut icon' type='image/x-icon' href='images/favicon.ico'>

        <style>
        
    html
                          {height:100%}
    body
                          {height:calc(100% - 42px);margin:20px;display:flex;flex-direction:column}
    .hdr                  
                          {font-family:arial;position:relative;margin-top:0;margin-bottom:20px;background:white;
                            padding-bottom:10px;border-bottom:3px solid lightblue}
    .hdr-icon             
                          {display:inline-block;text-align:center;background:whitesmoke;border-radius:5px;
                            border:1px solid lightgray;padding:5px 3px 0px;cursor:pointer;margin-right:10px;
                            min-width:50px}
    .hdr-icon-img         
                          {width:25px;height:25px}
    .hdr-icon-label       
                          {margin:2px 0 0}
    .hdr-title            
                          {position:absolute;left:0;right:0;z-index:0;margin:0 auto}
    .hdr-date
                          {float:right}

    input
                          {padding:5px 10px;font-size:16px}
    #chain
                          {}
    pre
                          {flex:1;border:1px solid lightgray;padding:10px}
                          
        </style>
        
    </head>

    <body>
   
   
        <div class=hdr>
            <a class=hdr-icon href='https://javascript-2020.github.io/'>
                <img class=hdr-icon-img src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAqFBMVEVHcEwjmpckopg9f3YxpJM6r5kjq58Nmp0Nn6QRoKExrpshnpgtoJUdoZwYnZ02spwYpaEmrZ8djpINn6Qtrp4inpcjqZ8SoqM3s5w0sp01spwrr58vr50oqpwdnpo0sZwtrJwUpKMMoaUtq50op5ssqpopppseqaM1sJwgpJ0NoaUSoaI3kYobqaMSpKQrr58PoaMVpaIOoKMLpKcXpaEkqp8Rm58YrKUL0CR4AAAAOHRSTlMACBkBCyinK59CQhUOLyKjqbUGpZgSYn6rp5WsekcmgkyWmCkmNB7AYTiuVgKuuo91i2PLn2lJ7kISMf4AAAElSURBVCjPrdPXloIwEAbgBDFKCRo6SO8lYEHd93+zxV7Zm2WuSL6Tk/MPEwBGLFH8SzFCeFiDXNeJ+7GtGds1D+ghDzzPzXX6xlJbq75s5KVLiJsSB76xIhd22Mz0pkyRnqzW2htD/SeUjL0EQKY60nqRvTLXGl64PR/SfDVxVvETZ123w8vN9Ur5YKUF4R9cd/WxqiePgCs3IMF1QXcVt6vK59tSqyjN4hwQbhS8mUuvWTLbwYtTQGhEjLHVPprv+4ztQ8AeRVn50uipBcXg/IPgfPaFF+z1axyeMEkcJwwdYHHZINQ02gALS49lJcQMci/COGzdue8apRQwNz4tYvM207JSRVEUhvtW6KeBIFVVbds07xPncZfCfWSK+UtNJ/9+VL/nTBuX7xjDZwAAAABJRU5ErkJggg==' />
                <div class=icon-label>
                    home
                </div>
            </a>
            <a id=github class=hdr-icon href='https://github.com/javascript-2020/javascript-2020.github.io/tree/main/utils/x509/generate-certificate-chain/generate-certificate-chain.html'>
                <img class=hdr-icon-img src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAbFJREFUOE/l1E2IT2EUx/HPIFI2lJfGwmYsxFZKEUWjKWM3pZSpKcqeBcpLZsNeUeNlZWdBSVFmkAXbmRWbWRCRjYW8jv+pc/V4utff3q3bvfc5z/k+557zO2dA97UHy7ERx3LbZbzEZzxscx3o4L3GWizusP/AO6yv7TXwAo5g9V8iL03vcRWnm8USeBHH/xFUb7uEE7HYAOMZeVmGm7iN61jVccBHjOMQxvAl870QoIDMZ87CfxR3E7QDTyroTjzOtf24k++R0w0BHMY9LEpDCeyXgRL4EyMBjEKcSs+o3r4uSbTQQ1r3CzVMBnCh2PimTQp9wgyJDZZV/g+Bz7E1c/AdezHdr7xp34UHvcIuye8XUZSy9A1nDT5UBSvPCL9oz9BeeY2GYR3msBIHsi834WlPTt9yrXQKIUdEIfoVhSG6Z3PTejdwGG+xDc9SPud7UZ6popjEyZaURMuOl8NhKvtzpKf4yGvMwk95l/5xwNkKeA0T5XCI96EcRbsLh5mWAtXARznyXtXA5tD4/YNYmuBzVTQN8Ctu5V/93tI1sbdjS463KxXwaFZ/NnP9h/kXPcNYElddRc0AAAAASUVORK5CYII='>
                <div class=hdr-icon-label>
                      github
                </div>
            </a>
            <img class=hdr-title src='images/generate-certificate-chain.png' style='height:80px;top:-15px'>
            <div class=hdr-date>
                  25 Mar 2025
            </div>
        </div hdr>

   
        <div id=chain>
              <input id=clear value=clear type=button>
              <input id=add value=add type=button>
              <input id=save value=save type=button>
        </div>
        
        <pre id=view>
        </pre>

<script>
                                                                                console.clear();
                                                                                console.log('generate-certificate-chain');
                                                                                console.log();
                                                                                console.json=v=>console.log(JSON.stringify(v,null,4));
        var ext;
        var $,datatype,menumod,keydown;
                                                                                
        var view
        
        var chain   = '';
        
        
        var btn   = {};
        

  //
  
  
        window.onload   = init;
        
        async function init(){
          
                await load();
                initdom();
                
        }//init
        
        
        async function load(){

              var res   = await fetch('https://raw.githubusercontent.com/javascript-2020/ext-code/main/ext-loader.js')
              var txt   = await res.text();
              ext   = eval(txt);
              [$,datatype,menumod,keydown]   = await ext.load.libs(
                    'js/dom/$.js',
                    'js/core/datatype.js',
                    'js/dom/menumod/menumod.js',
                    'js/dom/keydown/keydown.js'
              );
          
        }//load
        
        
        function initdom(){


              var hdr                         = $('#chain');
              
              $(hdr,'#clear').onclick         = btn.clear;
              $(hdr,'#add').onclick           = btn.add;
              $(hdr,'#save').onclick          = btn.save;

              
              view                            = $('#view')
              view.replaceChildren();
              
              
        }//initdom
        
                
        btn.clear   = function(){
          
              chain               = '';
              view.textContent    = chain;
              
        }//clear
        
        
        btn.add   = async function(){
          
              var txt             = await load.file();
              chain              += txt;
              view.textContent    = chain;
              
        }//add
        
        
        btn.save    = function(){
          
              var blob      = new Blob([chain]);
              var url       = window.URL.createObjectURL(blob);
              var a         = document.createElement('a');
              a.download    = 'cert.chain.pem';
              a.href        = url;
              a.click();
              
        }//save
        
        
        
        load.file   = function(){
          
              var resolve,promise=new Promise(res=>resolve=res);
              
              var input         = document.createElement('input');
              input.type        = 'file';
              input.onchange    = onchange;
              input.click();
              
              return promise;
              
              
              async function onchange(){
                
                    var txt   = await input.files[0].text();
                    resolve(txt);
                    
              }//onchange
              
        }//load.file
        
        


        
        
        
        
</script>


    </body>
    
    
</html>