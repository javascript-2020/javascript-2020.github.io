

<!-- headers
      cross-origin-isolate
-->


<!DOCTYPE html>

<html>

      <head>
            <meta charset=utf-8>
            
            <title>
                  Backup Github Repositories
            </title>
            
            <meta name=description content='Securely back up your GitHub repositories with our online tool. Zip multiple repos into a single password-protected archive—no installation required.'>
            <link rel=icon type='image/x-icon' href='/favicon.ico'>
            <meta name=viewport content='width=device-width, initial-scale=1'>

            <base href='https://ext-code.com/utils/github/backup-github-repo/'>
            <link rel=canonical href='https://ext-code.com/utils/github/backup-github-repo.html'>

            
            <script type='application/ld+json'>
                  {
                        "@context"              : "https://schema.org",
                        "@type"                 : "SoftwareApplication",
                        "name"                  : "Backup Github Repositories",
                        "url"                   : "https://ext-code.com/utils/github/backup-github-repo.html",
                        "author"                : {"@type":"Person","name":"Matthew Richards"},
                        "description"           : "Securely back up your GitHub repositories with our online tool. Zip multiple repos into a single password-protected archive—no installation required.",
                        "applicationCategory"   : "DeveloperApplication",
                        "operatingSystem"       : "All",
                        "browserRequirements"   : "Requires JavaScript-enabled browser",
                        "softwareVersion"       : "1.0.0",
                        "offers"                : {"@type":"Offer","price":"0","priceCurrency":"GBP"}
                  }
            </script>


            <script src='https://javascript-2020.github.io/libs/js/external/js7zip/js7z-st-fs-ec.js'></script>

            
            <script src='https://libs.ext-code.com/js/dom/component/component.js'></script>

            <script init>
                                                                                console.clear();
                                                                                console.log('backup-github-repo.html');
                                                                                console.log();
                                                                                console.json=v=>console.log(JSON.stringify(v,null,4));
        var df=true,version='v2.0'
        ;
        
        var ext,$,datatype,menumod,keydown,github,hs
        ;

        var menu;
        
        var hdr;
        var log;


  //:

        
        async function init(){

        
              menu                      = menumod();
              
              hdr                       = mod.hdr;
              log                       = mod.log;
              
              hdr.initmod({ext,$,menu});
              log.initmod({ext,$});
        
              await Promise.all([      
                    hdr.init(),
                    log.init(),
              ]);

        
  //:
          
              //keydown.add(kd);
              menu.on.close          = ()=>{};
        
              
              await initdom(document.body);
        
        
        }//init
        
        
(async()=>{

        mod.stack.add;
        
        ({ext}    = await import('https://libs.ext-code.com/js/io/ext-loader/ext-loader.m.js'));
          
        var promise   = ext.load.libs(
              'js/dom/$.js',
              'js/core/datatype.js',
              'js/dom/menumod/menumod.js',
              'js/dom/keydown/keydown.js',
              'js/io/github/github.js.api',
              'js/string/hs.js',
        );
        [$,datatype,menumod,keydown,github,hs]   = await promise;

  
        JSZip   = (await import('https://cdn.jsdelivr.net/npm/jszip/+esm')).default;

        mod.stack.complete;
              
})();

                  
            </script>


            <style>
            
  html
    {height:100%;font-family:arial}
  body
    {min-height:calc(100% - 40px);display:flex;flex-direction:column;gap:20px;margin:20px;align-items:center;
      padding-bottom:200px;
    }
  body>*
    {max-width:1400px;width:100%;padding:0 20px;}


  #scroll
    {}
  #center
    {width:100%;max-width:1200px;position:absolute;margin:auto;left:0;right:0}


    
  [component]
    {display:none}
    
  .description 
    {max-width:1000px;text-align:justify;border-left:4px solid #4a90e2;padding:1rem;
      background-color:#f9f9f9;font-family:system-ui,sans-serif;font-size:1rem;line-height:1.6;color:#333}
  .description>p
    {margin:0}
  .description > p+p
    {margin:10px 0}

  code
    {font-family:monospace;background:whitesmoke}
  code.inline
    {display:inline;padding:5px 10px}

  a
    {color:#4a90e2;text-decoration:none;font-weight:500}
  a:hover 
    {text-decoration:underline}
  .link-domain
    {font-size:0.85rem;color:#777;margin-left:0.25rem}
  .link-domain::before 
    {content:'['}
  .link-domain::after
    {content:']'}
  .link-txt
    {}

  input
    {font-size:16px;padding:5px 7px;box-sizing:border-box;}
  input[type=button]
    {cursor:pointer}
  input[type=checkbox]
    {width:20px;height:20px;margin:0;cursor:pointer}



  label
    {display:inline-block;width:100px;text-align:right}
    
  #token-root
    {padding-bottom:20px;border-bottom:1px solid lightgray}
        
  #values 
    {padding-bottom:20px;margin:bottom:20px;border-bottom:1px solid lightgray}
  .value
    {display:flex;align-items:center;gap:10px;margin-bottom:10px}
  .value input
    {flex:1}
        
  [value='list repositories']
    {width:150px}
  #spinner
    {width:20px;height:20px;margin-left:10px}
    
    
  #backup-root
    {margin:20px 0;display:flex;gap:10px;align-items:center}              
  [value=backup]
    {width:150px}              
  #progress
    {flex:1;padding:3px;border:1px solid gray;height:24px;border-radius:3px}              
  #track
    {background:lightblue;width:0;height:100%}
        
  
  #list-root
    {border:1px solid lightgray;padding:10px;border-radius:10px}
  #all
    {display:flex;align-items:center;margin-bottom:10px}
  #all [value]
    {margin-left:10px}
    
  .repo
    {display:flex;align-items:center;gap:20px;cursor:pointer;padding:5px 10px}
  .repo:hover
    {background:lightyellow}
  .repo .selected
    {width:20px;height:20px;margin:0}
  .repo .name
    {flex:1}
  .repo .branch
    {}
  .repo .type
    {width:60px}
  .repo .size
    {width:100px;text-align:right}
    
  .icon-root
    {display:flex;align-items:center;gap:5px}
  .icon
    {cursor:pointer;width:32px;height:32px;padding:2px;border:1px solid gray;border-radius:3px;box-sizing:border-box}
  .copy
    {content:url(data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABSlBMVEVHcEwnz/4C8P4g1P4L6P43wf5Mr/4a2v4Y3P4/uv5PrP4+vf5Auv4ozv5KsP4vyv45wP5Jsf5Auf49vP5Mrv4zxf44wf5Lr/46wP4h1P5Lr/46vv5Jsv4R5P5Hs/5Etv44wf5Hs/41w/4uyv47vv49vP5Ftf5GtP4c2f4rzP4tyv4m0f5Etv5Nrv4xxv4xxv4xx/4W3/5KsP5Mr/4/u/4uyv5Isv4K6f4l0f4qzv4W3/4V3/5Nrv5Mrv5Mrv5Mr/4W3v4e2P5BuP5Hsv4N5v4K6f4O5v42w/5Dt/4E7/4uyf4C8P4nz/4M5/4K6v4oz/4P5f4k0v4b2v5Gs/4E7v4I6/5Nrf4e1/4H7P4E7v5Auv5Dtv4sy/5Isv5GtP4wx/49vP4zxf47vv44wP42w/5LsP5Jsf4i1P4n0P4N5v4k0v4a2v4S4v4X3v6OfcqkAAAAVnRSTlMACo7CjQWN/VczjgIJMfIXJzHtjj5iVekR71Hvtz7CjelXjre2wiJj2PCFIWbR7+fEnXaodz3544/USfOC22Tm7CXOnqfUZ+/3VTV9bsTzqGDahpb2tyRB6bIAAAIDSURBVDjLrZVpV9pAFIYntdFiQkZsLCQECtJSlqAsFRBU3Kuta1sncYGuJEDt///aISkkkyHo6enzLTlP5s5758wNAC526pd3d1++/fzx/evNze1tp210wxURUMTWBz2v2EWtLc7jBTPmoJfNrqy8i0ajixgB00VISJIeW9JMKbcWDAYDNiFMQN1EqAAJcUfSBif0fsQWQjLxpjGnXUJa5CoIbTiP8KJ0OqfNMLQIZhGad/Ke3t///vWwGKv1+yPxfW55+TnmJWZW5ggxcqX3m6WSVTpSdPcxHCLExmf97AI8e1j8cK1f8X9Fq/Sotrf0k2v9KRiJ08L8mwhf2CQx8oK/yJyPw3Q67ULaV4Tr7tRCwFfkllLF4ushccwGPyUMzwzhMQz/X1Kz+QVMmh2LcjgsTxDZ3OpqIpFYfDu+KGwoxE5JvTtpF9NX9BEB792jn0gD4eNEsVAQHyXOO7fQFmNNLZOnPV5BqEyI+Yxm1qkluS0BCWRp8FEze6mTJQtVVd8MUfcEhBSGFOGMOWmaoc0AmRoXP5cmiHEReEXANOopzCsLRYlXjWolGXE2jK/r/ujEWAdOFIxWGrjO8ljXazG6MeynthEn2gAP9P7B4XCE2thzdG2v2jbK5LfHZ3hINbclSco6o/kIh1Einq4e1qxp5m2PkqZ/CPvbXvFot+xe7w/EpaiUrJ24NAAAAABJRU5ErkJggg==);
    }
  .paste
    {content:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAYxJREFUOE/NlLFKw1AUhs9thDSSNhYEC1LIdWj2bl07OPcJxMUXMFsHjUsXrdBdB3HwARxLwIIQXJxcUooHbCOEutRKh9AYucXGtknTGhw8Y3Lud89//stP4I+LRPEopdb3/31EbKxydyhQluVjQoiaTCZTPM9Dv98Hz/M0nufPTdMcRIF9oKIoKcdx3ifNHMeBJEkgiiJYlgWu605zsohoh4F9IJsqs+5pp+UeHNxsgSAIQMiPgOFwCGflHjTbAtw+ia+IuL0UmE1/asbhyxgYVuyyq4c01JuZ3wGjdlS/2/hnQNcDePvg/KEvDQkuDMkejUYF9rHT6TBzfMdmTJnscFry3nUW7p+FqC00EHF30rAUuHNCoVqtQrFYDEANw4BKpQKI6HNWBtZqtQBQVdX4QNM0A0BFUeIDmbT5YquILXmRK7GBsSZcSxBtU5wJAbAH3NjlfD4fGLLVai2WzLpZQMyfIoQclUqlRC6XCwC73S7ouh7+bBbtiFLKkuIx4mUXpqMsMrFXSej5ni+XXuAVg6oGswAAAABJRU5ErkJggg==');
    }


            </style>

      </head>
    
      <body>
    
            <hdr component=grp v2.0>
                  <img class=title src='images/backup-github-repositories.png' style='top:0px;height:80px'>
                  <span slot=date>28 Aug 2025</span>
            </hdr>


            <div class=description>
                  <p>
                        Securely back up your GitHub repositories with our online tool. Zip multiple repos into a single password-protected archive—no installation required.
                  </p>
                  <br>
                  <p>
                        Well at the time of writing, response from github for the zip archive does not contain access-control-allow-origin
                        headers, so the 
                        <br>
                        <a href='#'>
                              cors extension
                              <span class=link-domain>
                                    ext-code.com
                              </span>
                        </a>
                        <br>
                        will need to be used
                        
                        <span>chrome://extensions</span>
                        <img class='copy icon' style='width:15px;height:15px;vertical-align:middle'>
                        
                  </p>
            </div>



            <div id=scroll>
            
                  <div id=center>




                              <div id=token-root class=value>
                                    <label>
                                          token
                                    </label>
                                    <img class='paste icon'>
                                    <img class='copy icon'>
                                    <input class=token>
                              </div>

                              
                      
                              <div id=owner-root class=value>
                                    <label>
                                          owner
                                    </label>
                                    <img class='paste icon'>
                                    <img class='copy icon'>
                                    <input class=owner>
                              </div>
                              
                              <div>
                                    <input value='list repositories' type=button>
                                    <img id=spinner src='images/spinner.gif' style='display:none'>
                              </div>


                              <div id=backup-root>
                            
                                    <input value=backup type=button>
                                  
                                    <div id=progress>
                                          <div id=track>
                                          </div>
                                    </div>
                              
                                    <span id=api-root>
                                          <label for=api>
                                                api
                                          </label>
                                          <input id=api type=checkbox>
                                    </span>
                                    
                              </div>


                              <div id=list-root>
                              
                                    <div id=all>
                                          <input value='select all' type=button>
                                    </div>
                                    
                                    <div id=list>
                                          <div class=repo style=display:none>
                                                <input class=selected type=checkbox>
                                                <div class=name></div>
                                                <div class=branch></div>
                                                <div class=type></div>
                                                <div class=size></div>
                                          </div>
                                    </div>
                                    
                              </div>



                  </div center>
                  
            </div scroll>


            <log component v2.0></log>
            

      </body>
      
      
      <script>
      
      
        var ui    = {};

      
        var btn   = {};
        
        
  //:
  
  
        function initdom(rootnode){
          
          
              hdr.initdom();
              
              var r                                           = $('#token-root');
              ui.token                                        = $('.token');
              ui.token.value                                  = localStorage['github-token']||'';
              $.icon.paste(r,'.paste');
              $.icon.copy(r,'.copy');

              var r                                           = $('#owner-root');
              ui.owner                                        = $('.owner');
              ui.owner.value                                  = localStorage['github-owner']||'';
              $.icon.paste(r,'.paste');
              $.icon.copy(r,'.copy');

              
              $('[value="list repositories"]').onclick        = btn.list;
              ui.spinner                                      = $('#spinner');
              
              $('[value=backup]').onclick                     = btn.backup;
              
              $('#all [value]').onclick                       = btn.all;
              
              ui.list                                         = $('#list');
              ui.repo                                         = $(list,'.repo');
              ui.repo.remove();
              ui.repo.style.display   = '';
              
              
              log.initdom();
              
              
        }//initdom
        
        
  //:
  
  
        btn.list    = async function(){
          
              $.show(ui.spinner);
              ui.list.replaceChildren();
              
              var token       = ui.token.value;
              var json        = await github.user.repolist.all({token});
                                                                                console.log(json);
              json.forEach(repo=>{
                
                    var nrepo   = ui.repo.cloneNode(true);
                    $(nrepo,'.name').textContent        = repo.name;
                    $(nrepo,'.branch').textContent      = repo.default_branch;
                    $(nrepo,'.type').textContent        = repo.private ? 'private' : 'public';
                    $(nrepo,'.size').textContent        = hs(repo.size*1024);
                    ui.list.append(nrepo);
                    
                    nrepo.onclick   = e=>{
                      
                          var chk       = $(nrepo,'[type]');
                          if(e.target===chk)return;
                          chk.checked   = !chk.checked;
                          
                    }//onclick
                    
              });

              $.hide(ui.spinner);
        
        }//list
        
        
        btn.backup    = async function(){
          
              var list    = $.all(ui.list,'.repo');
              list        = list.filter(root=>$(root,'[type=checkbox]').checked);
              list        = list.map(root=>{
                
                    var name      = $(root,'.name').textContent;
                    var branch    = $(root,'.branch').textContent;
                    var type      = $(root,'.type').textContent;
                    return {name,branch,type}
                    
              });
                                                                                console.log(list);
              track.style.width   = 0;
              var ct              = 0;
              var total           = list.length+1;
              
              var js7z        = await JS7z({print,printErr,onAbort,onExit});
              js7z.FS.mkdir('/in');

              
              await Promise.all(
                    list.map(async ({branch,name,type})=>{
              
                          var token     = ui.token.value;
                          var owner     = ui.owner.value;
                          var repo      = name;
                                                                                console.log(repo,type,type==='public');
                          if(type==='public'){
                                token   = false;
                          }

                          var {blob,error}    = await github.repo.zip({owner,repo,branch,token});
                          if(error){
                                log.red(error.message);
                                return;
                          }
                                                                                console.log(repo,type,blob.size);
                          var buf     = await blob.arrayBuffer();
                          var uint8   = new Uint8Array(buf);
                          js7z.FS.writeFile(`/in/${repo}.zip`,uint8);
                          
                          ct++;
                          track.style.width   = (ct/total)*100+'px';
                    
                    })
              );

              var ts        = date();
              var archive   = `github-${ts}.zip`;
              js7z.callMain(['a',`/${archive}`,'/in/*']);        
                      
              function date(){
              
                    var now   = new Date();
                    var yy    = String(now.getFullYear()).slice(-2);
                    var mm    = String(now.getMonth()+1).padStart(2,'0');
                    var dd    = String(now.getDate()).padStart(2,'0');
                    var hh    = String(now.getHours()).padStart(2,'0');
                    var min   = String(now.getMinutes()).padStart(2,'0');
                    var ss    = String(now.getSeconds()).padStart(2,'0');
                  
                    var ts    = `${yy}-${mm}-${dd}---${hh}-${min}-${ss}`;
                    return ts;
                    
              }//ts


              function print(str){
                                                                                      //console.log('[ print ]',arguments);
                                                                                      console.log('[ print ]',str);
              }//print

              
              function printErr(str){
                                                                                      //console.log('[ printErr ]',arguments);
                                                                                      console.log('[ printErr ]',str);
              }//printErr

              
              function onAbort(str){
                                                                                      //console.log('[ onAbort ]',arguments);
                                                                                      console.log('[ onAbort ]',str);
              }//onAbort

              
              function onExit(code){
                                                                                      console.log('[ onExit ]',code);
                    if(code!==0)return;
                    
                    track.style.width   = '100%';
                    
                    var data      = js7z.FS.readFile(`/${archive}`,{encoding:'binary'});
                                                                                      //console.log(data);
                    var blob      = new Blob([data],{type:'application/octet-stream'});
                    
                    var url       = window.URL.createObjectURL(blob);
                    var a         = document.createElement('a');
                    a.href        = url;
                    a.download    = archive;
                    a.click();
                    
              }//onExit
              
        }//backup
        
        
        btn.all   = function(){
          
              var list    = $.all(ui.list,'.repo');
              list.forEach(root=>{
                
                    var chk       = $(root,'[type=checkbox]')
                    chk.checked   = !chk.checked
                    
              });
          
        }//all
        
  
  
  
      </script>
      
</html>





