



<html>

      <head>
    
            <base href='https://javascript-2020.github.io/utils/github/download-a-directory-from-a-github-repository/'>
            <link rel='shortcut icon' type='image/x-icon' href='images/favicon.ico'>
            
            <title>download github directory</title>
            
            <style>
        
        html
              {font-family:arial}
        body
              {height:calc(100% - 16px)}


        #scroll
              {margin-top:50px}

        #center
              {}

        #parse-root
              {margin-bottom:20px;display:flex;align-items:center;gap:10px}
              
        #url-paste
              {width:32px;height:32px;padding:2px;
                content:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAYxJREFUOE/NlLFKw1AUhs9thDSSNhYEC1LIdWj2bl07OPcJxMUXMFsHjUsXrdBdB3HwARxLwIIQXJxcUooHbCOEutRKh9AYucXGtknTGhw8Y3Lud89//stP4I+LRPEopdb3/31EbKxydyhQluVjQoiaTCZTPM9Dv98Hz/M0nufPTdMcRIF9oKIoKcdx3ifNHMeBJEkgiiJYlgWu605zsohoh4F9IJsqs+5pp+UeHNxsgSAIQMiPgOFwCGflHjTbAtw+ia+IuL0UmE1/asbhyxgYVuyyq4c01JuZ3wGjdlS/2/hnQNcDePvg/KEvDQkuDMkejUYF9rHT6TBzfMdmTJnscFry3nUW7p+FqC00EHF30rAUuHNCoVqtQrFYDEANw4BKpQKI6HNWBtZqtQBQVdX4QNM0A0BFUeIDmbT5YquILXmRK7GBsSZcSxBtU5wJAbAH3NjlfD4fGLLVai2WzLpZQMyfIoQclUqlRC6XCwC73S7ouh7+bBbtiFLKkuIx4mUXpqMsMrFXSej5ni+XXuAVg6oGswAAAABJRU5ErkJggg==');
              }
        #url-copy
              {width:32px;height:32px;padding:2px;
                content:url(data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABSlBMVEVHcEwnz/4C8P4g1P4L6P43wf5Mr/4a2v4Y3P4/uv5PrP4+vf5Auv4ozv5KsP4vyv45wP5Jsf5Auf49vP5Mrv4zxf44wf5Lr/46wP4h1P5Lr/46vv5Jsv4R5P5Hs/5Etv44wf5Hs/41w/4uyv47vv49vP5Ftf5GtP4c2f4rzP4tyv4m0f5Etv5Nrv4xxv4xxv4xx/4W3/5KsP5Mr/4/u/4uyv5Isv4K6f4l0f4qzv4W3/4V3/5Nrv5Mrv5Mrv5Mr/4W3v4e2P5BuP5Hsv4N5v4K6f4O5v42w/5Dt/4E7/4uyf4C8P4nz/4M5/4K6v4oz/4P5f4k0v4b2v5Gs/4E7v4I6/5Nrf4e1/4H7P4E7v5Auv5Dtv4sy/5Isv5GtP4wx/49vP4zxf47vv44wP42w/5LsP5Jsf4i1P4n0P4N5v4k0v4a2v4S4v4X3v6OfcqkAAAAVnRSTlMACo7CjQWN/VczjgIJMfIXJzHtjj5iVekR71Hvtz7CjelXjre2wiJj2PCFIWbR7+fEnXaodz3544/USfOC22Tm7CXOnqfUZ+/3VTV9bsTzqGDahpb2tyRB6bIAAAIDSURBVDjLrZVpV9pAFIYntdFiQkZsLCQECtJSlqAsFRBU3Kuta1sncYGuJEDt///aISkkkyHo6enzLTlP5s5758wNAC526pd3d1++/fzx/evNze1tp210wxURUMTWBz2v2EWtLc7jBTPmoJfNrqy8i0ajixgB00VISJIeW9JMKbcWDAYDNiFMQN1EqAAJcUfSBif0fsQWQjLxpjGnXUJa5CoIbTiP8KJ0OqfNMLQIZhGad/Ke3t///vWwGKv1+yPxfW55+TnmJWZW5ggxcqX3m6WSVTpSdPcxHCLExmf97AI8e1j8cK1f8X9Fq/Sotrf0k2v9KRiJ08L8mwhf2CQx8oK/yJyPw3Q67ULaV4Tr7tRCwFfkllLF4ushccwGPyUMzwzhMQz/X1Kz+QVMmh2LcjgsTxDZ3OpqIpFYfDu+KGwoxE5JvTtpF9NX9BEB792jn0gD4eNEsVAQHyXOO7fQFmNNLZOnPV5BqEyI+Yxm1qkluS0BCWRp8FEze6mTJQtVVd8MUfcEhBSGFOGMOWmaoc0AmRoXP5cmiHEReEXANOopzCsLRYlXjWolGXE2jK/r/ujEWAdOFIxWGrjO8ljXazG6MeynthEn2gAP9P7B4XCE2thzdG2v2jbK5LfHZ3hINbclSco6o/kIh1Einq4e1qxp5m2PkqZ/CPvbXvFot+xe7w/EpaiUrJ24NAAAAABJRU5ErkJggg==);
              }
        #url
              {flex:1}

              
        #values 
              {display:grid;grid-template-columns:auto 1fr;gap:10px;align-items:center}
              

        #download-root
              {margin:20px 0;display:flex;gap:10px;align-items:center}              
        [value=download]
              {width:150px}              
        #progress
              {flex:1;padding:3px;border:1px solid gray;height:24px;border-radius:3px}              
        #track
              {background:lightblue;width:0;height:100%}
              
        
        #results-root
              {}
        #results-clear
              {width:32px;height:32px;padding:2px;
                content:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAiZJREFUOE9jZKAAMML0Xuro0P34+jWbbW/vOQYGhv+4zOwUYeDV0bMz3Ljv0Bmw5mdrV9aI8XE3MTy+x/j6zMn9B/cdz4i4ce8WsgFr5eUlVczNa77wcFuefvKos2DX3rVgzfsqS63VhXgni319Y/jv9mWGT9evfzx5/320z/ufWxsYGJgcxMTS+ZUUmq/8+zcv/9SZlncMDJ9A+uDOZmBgYN1lrhmh8etTK8v7j7KfP//8dfnrvxyJf4wBjJycNruZmVIb3n1cw8DA8A/mImTNYLEEBgaBGD7mVpHfDBn/fv9j+viP4e0apv9BU/8wHEYPCwzNIAO2MDOEivxnXMT0/z/HP2bGb0cYWexKfv8+ix6IGJp3MjFkCvxnmPKdkfHjQUamQi9upmZmdqYvDa9/mm9iYPiMbACK5q0MDCmijAyzGJgZ/23+/z+m+S/DinY+dpUoCZZ9D37+W2n/8HsZstPhmtcyMFjIMjEeYmdlZL3IyDgr7sffLAYGhr8gm+aIsho68bHvXvvyl0Ppl19XMALsmCDvCf7f383fMjPeTfv42/wGA8NbZCfuFOVI4mFm9rB+8TUcZjvY5lZubvFoV5sXrLcvMZx7/67X99nPEiwpjOmYMOeGSW+/Z6xgYHgGj+ckBgbe9pbKl3xPb3Ku33M4L+r268nYkucCdnblt//+8RX//n0eJZFsTY0JY/322Tpj6ca6ewwMH4nJL1jjmRiNIDUADZXPhFJZPA0AAAAASUVORK5CYII=');
              }
        #results
              {margin-top:10px}
        .result
              {display:flex;align-items:center;margin-bottom:10px}
        .result .filename
              {}

              
        .icon-root
              {display:flex;align-items:center;gap:5px}
        .icon
              {cursor:pointer;border:1px solid gray;border-radius:3px;box-sizing:border-box}
              
        input 
              {font-size:16px;padding:5px 10px}
        input[type=button]
              {cursor:pointer}
        
        
            </style>
        
        
            <script>
                                                                                console.clear();
                                                                                console.log('html-editor');
                                                                                console.log();
                                                                                console.json=v=>console.log(JSON.stringify(v,null,4));
        var mod     = {};
        mod.menu    = {};
        mod.utils   = {};

        
        var JSZip
        ;
        
        var $,datatype,menumod,keydown,github,hs
        ;
        

        var results;
        var result;
        
        var log;
        
        
        var menu        = {};
        var btn         = {};
        btn.url         = {};
        btn.owner       = {};
        btn.repo        = {};
        btn.branch      = {};
        btn.path        = {};
        
  //:
        
        async function init(){
                                                                                console.log('init');
        
              menumod                   = menumod();
              mod.utils.hdr             = mod.utils.hdr();
              log                       = log();
              
              mod.utils.hdr.initmod({menu,menumod});
              log.initmod({});
              
              mod.utils.hdr.init();
              log.init();
        
  //:
          
              //keydown.add(kd);
              menumod.on.close          = ()=>{};
        
              
              await initdom(document.body);
        
        
              init.complete();
        
              
        }//init
        
        
        init.stack            = [];
        init.stack.ct         = 0;
        init.stack.total      = 1;
        init.stack.mode       = 'log';
        init.stack.complete   = false;
        Object.defineProperty(init.stack,'add',{get:()=>{
              init.stack.total++;
              init.stack.mode && console[init.stack.mode]('add',init.stack.ct,init.stack.total);
        }});
        Object.defineProperty(init.stack,'complete',{get:()=>{
              init.stack.ct++;
              init.stack.mode && console[init.stack.mode]('complete',init.stack.ct,init.stack.total);
              init.stack.ct>=init.stack.total && init();
        }});
        
        //  (typeof init!='undefined' && init?.stack && init.stack.add)
        //  (typeof init!='undefined' && init?.stack && init.stack.complete)
        
        
        init.complete   = function(){
          
              init.complete.stack.forEach(fn=>fn());
              
        }//complete
        
        init.complete.stack   = [];
        init.complete.add     = fn=>init.complete.stack.push(fn);

                  
            </script>

            <script libs>

(async()=>{
  

        init.stack.add;
        init.stack.add;
        
        var ext;
        
        fetch('https://raw.githubusercontent.com/javascript-2020/ext-code/main/ext-loader.js')
          .then(res=>res.text().then(async txt=>{
        
              ext           = eval(txt);
              var promise   = ext.load.libs(
                    'js/dom/$.js',
                    'js/core/datatype.js',
                    'js/dom/menumod/menumod.js',
                    'js/dom/keydown/keydown.js',
                    'github/github.js.api',
                    'js/string/hs.js',
              );
              [$,datatype,menumod,keydown,github,hs]   = await promise;
        
              init.stack.complete;
        
          }));


        JSZip   = (await import('https://cdn.jsdelivr.net/npm/jszip/+esm')).default;

        
        init.stack.complete;

})();

            </script>





      </head>
    
      <body>
    
            <hdr-grp-api>
                  <script src='https://html-loader-1024713184986.us-central1.run.app/'></script>
                  <img style='top:10px;height:40px' class=title src='images/download-a-directory-from-a-github-repository.png'>
                  <span slot=date>01 May 2025</span>
            </hdr-grp-api>

        
            <div id=scroll>
            
                  <div id=center>
                  
                        <section>
                        
                              <div id=parse-root>
                              
                                  <div>
                                      url
                                  </div>
                                  <div class=icon-root>
                                        <img id=url-copy class=icon title=copy>
                                        <img id=url-paste class=icon title=paste>
                                  </div>
                                  <input id=parse value=parse type=button>
                                  <input id=url>
                                  
                              </div>
                            
                            <div id=values>
                            
                                <div>
                                      owner
                                </div>
                                <img id=owner-paste class=icon title=paste>
                                <input class=owner>
                                
                                <div>
                                      repo
                                </div>
                                <img id=repo-paste class=icon title=paste>
                                <input class=repo>
                                
                                <div>
                                      branch
                                </div>
                                <img id=branch-paste class=icon title=paste>
                                <input class=branch>
                                
                                <div>
                                      path
                                </div>
                                <img id=path-paste class=icon title=paste>
                                <input class=path>
                                
                            </div values>
                            
                            <div id=download-root>
                            
                                  <input value=download type=button>
                                  
                                  <div id=progress>
                                        <div id=track>
                                        </div>
                                  </div>
                            
                            </div>
                            
                            <div results-root>
                                  <img id=results-clear class=icon>
                                  <div id=results>
                                        <a class=result style='display:none' href='#'>
                                              <div class=filename></div>
                                        </a>
                                        
                                  </div>
                            </div>
                            
                        </section>
      
                      
                  </div center>
                
                
                
            </div scroll>



        
            <script>
        
        
        
        function initdom(){

                                                                                console.log('initdom');
              mod.utils.hdr.initdom();

                
              $('#url-paste').onclick           = btn.url.paste;
              $('#url-copy').onclick            = btn.url.copy;
              
              $('[value=parse]').onclick        = btn.parse;
              
              $('#owner-paste').onclick         = btn.owner.paste;
              $('#repo-paste').onclick          = btn.repo.paste;
              $('#branch-paste').onclick        = btn.branch.paste;
              $('#owner-path').onclick          = btn.path.paste;
              
              $('[value=download]').onclick     = btn.download;


              $('#results-clear').onclick       = btn.clear;              
              results                           = $('#results');
              result                            = $('.result');
              result.style.display              = '';
              result.remove();

              
        }//initdom
                
                
  //:
  
  
        btn.url.paste   = async function(){
              
              var url           = await navigator.clipboard.readText();
              $('#url').value   = url;
              
        }//paste          
        
        
        btn.url.copy    = async function(){
          
              var url   = $('#url').value;
              await navigator.clipboard.writeText(url);
              
        }//copy


        btn.parse   = function(){
              
              var url               = $('#url').value;
              var result            = github.parse(url);
                                                                                console.json(result);
              if(result.error){
                    alert(result.error);
                    return;
              }
                
              $('.owner').value     = result.owner;
              $('.repo').value      = result.repo;
              $('.branch').value    = result.branch;
              $('.path').value      = result.path;
                    
        }//parse


        btn.owner.paste   = function(){
          
              var txt               = await navigator.clipboard.readText();
              $('.owner').value     = txt;
              
        }//paste
        
        
        btn.repo.paste   = function(){
          
              var txt               = await navigator.clipboard.readText();
              $('.repo').value      = txt;
              
        }//paste
        
        
        btn.branch.paste   = function(){
          
              var txt               = await navigator.clipboard.readText();
              $('.branch').value    = txt;
              
        }//paste
        
        
        btn.path.paste   = function(){
          
              var txt               = await navigator.clipboard.readText();
              $('.path').value      = txt;
              
        }//paste
        
                
        btn.download    = function(){
          
              var owner     = $('.owner').value;
              var repo      = $('.repo').value;
              var branch    = $('.branch').value;
              var path      = $('.path').value;
          
              download(owner,repo,branch,path);
              
              
        }//download
        
        
        btn.clear   = function(){
          
              results.replaceChildren();
              
        }//clear

        
  //:
  
  
        async function download(owner,repo,branch,path){

              github.download(owner,repo,branch,path,update,complete);
              
        }//download
        
        
        function update(ct,total){
                                                                                console.log('update',ct,total);
              var p   = (ct/total)*100;
              var w   = p+'%';
              $('#track').style.width    = w;
              
        }//update
        
        
        function complete(file,blob){
          
              var size                              = hs(blob.size);
              var str                               = file+' '+size;
              
              var nresult                           = result.cloneNode(true);
              $(nresult,'.filename').textContent    = str;
              nresult.onclick                       = download;
              results.append(nresult);
              
              
              function download(e){
                
                    if(e.button!=0){
                          return;
                    }
                    
                    e.preventDefault();
                    
                    var url       = window.URL.createObjectURL(blob);
                    
                    var a         = document.createElement('a');
                    a.download    = file;
                    a.href        = url;
                    a.click();
                    
              }//download
          
        }//complete




        init.stack.complete;
        
        
            </script>
        

<!-- components -->

<log-api>
      <script html-loader src='https://html-loader-1024713184986.us-central1.run.app/'></script>
</log-api>
        
<!-- components -->


    </body>
</html>



