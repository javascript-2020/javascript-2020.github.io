
<!DOCTYPE html>

<html>

      <head>
            <meta charset=utf-8>
            
            <title>
                  Video Thumbnail Generator
            </title>
            
            <meta name=description content='Free online video thumbnail generator'>

            <base href='https://ext-code.com/utils/video/video-thumbnail-generator/'>
            <link rel=canonical href='https://ext-code.com/utils/video/video-thumbnail-generator/video-thumbnail-generator.html'>
            
            <meta name=viewport content='width=device-width, initial-scale=1'>
            <link rel=icon href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAclBMVEVHcEzlmC3JrVHIqUflmC21tFagvGDRoz+xsVKcvWGivWG7rEjKrlvVoDiXvmGstVbTojzQwYXLpTvHp0PkmS7TpDvqlirpmC6cvF6gvGGrtlOluFbdnTSjuVrcnDK0sVCsuFvjmi7lmTChvFvBqkbomC0SwbdCAAAAJnRSTlMAOwYKIA5DFVBlE18CXC86YgFGX2U0VFVdHGFvSXRBQiRtL5UtXmnr1gIAAADXSURBVCjPvdPZFoIgFAVQBEEFxCEs5zH//xeT1FJSevM8CLrX4jIIAFfFtjZxfrTbaCmRxqW1fRttnZPp0a9fH4fcdfU86l3nWLFvW2PPz9kBWEquMURwZVTLPtoxahhjTfycumHs13BfG+cNhjhgaid839Fn7gbvJnFVFaAvDBczc+bAT7BcdzWr3GUUl7GbSjiljhamXspnbiFaA7+LStNsniE8PEjhKUZFc3LQwiOCpHlBTxwLIjAIKmr8XYIqi0xOBmJy6hV/vCLc6ENrKk8JuujevADrwgtMWqFXOwAAAABJRU5ErkJggg=='>

            <script type='application/ld+json'>
                  {
                        "@context"              : "https://schema.org",
                        "@type"                 : "SoftwareApplication",
                        "name"                  : "Video Thumbnail Generator",
                        "url"                   : "https://ext-code.com/utils/video/video-thumbnail-generator/video-thumbnail-generator.html",
                        "author"                : {"@type":"Person","name":"Matthew Richards"},
                        "description"           : "Free online video thumbnail generator",
                        "applicationCategory"   : "DeveloperApplication",
                        "operatingSystem"       : "All",
                        "browserRequirements"   : "Requires JavaScript-enabled browser",
                        "softwareVersion"       : "1.0.0",
                        "offers"                : {"@type":"Offer","price":"0","priceCurrency":"GBP"}
                  }
            </script>


            <script src='https://libs.ext-code.com/js/dom/component/component.js'></script>

            <script>
                                                                                console.clear();
                                                                                console.log('html-editor-v2.0.html');
                                                                                console.log();
                                                                                console.json=v=>console.log(JSON.stringify(v,null,4));
        var df=true,version='v1.0'
        ;
            
        var ace;
        
        var ext,$,datatype,menumod,keydown,debug
        ;
        

        var menu;
        
        var hdr;
        var filemod;
        var log;

        
        async function init(){
          
              menu                      = menumod();
              
              
              hdr                       = mod['video-hdr'];
              filemod                   = mod['file-mod'];
              log                       = mod['log-mod'];
              
              hdr.initmod({ext,$,menu});
              filemod.initmod({ext,$,menumod,menu,complete,source,focus,log});
              log.initmod({ext,$});
              
              await Promise.all([
                    hdr.init(),
                    filemod.init(),
                    log.init(),
              ]);
              
        }//init


(async()=>{

        mod.stack.add;
        
        ({ext}    = await import('https://libs.ext-code.com/js/io/ext-loader/ext-loader.m.js'));
          
        var promise   = ext.load.libs(
              'js/dom/$.js',
              'js/core/datatype.js',
              'js/dom/menumod/menumod.js',
              'js/dom/keydown/keydown.js',
              'js/debug/debug.js',
        );
        [$,datatype,menumod,keydown,debug]   = await promise;
  
        mod.stack.complete;
              
})();

        
            </script>
            
            
            <style>

  html
    {height:100%;font-family:arial}
  body
    {min-height:calc(100% - 40px);display:flex;flex-direction:column;gap:20px;margin:20px;align-items:center;
      padding-bottom:200px;
    }
  body>*
    {max-width:1400px;width:100%}
    
  [component]
    {display:none}
    
  .description 
    {max-width:1000px;text-align:justify;border-left:4px solid #4a90e2;padding:1rem 2rem;
      background-color:#f9f9f9;font-family:system-ui,sans-serif;font-size:1rem;line-height:1.6;color:#333}
  .description>p
    {margin:0}
  .description > p+p
    {margin:10px 0}

  code
    {font-family:monospace;background:whitesmoke}
  code.inline
    {display:inline;padding:5px 10px}

  a
    {color:#4a90e2;text-decoration:none;font-weight:500}
  a:hover 
    {text-decoration:underline}
  .link-domain
    {font-size:0.85rem;color:#777;margin-left:0.25rem}
  .link-domain::before 
    {content:'['}
  .link-domain::after
    {content:']'}
  .link-txt
    {}

  input
    {font-size:16px;padding:5px 7px;box-sizing:border-box;}
  input[type=button]
    {cursor:pointer}

  .visually-hidden
    {position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0 0 0 0);border:0}
            
            </style>
            
      </head>
      
      <body>
      
            <video-hdr component=grp>
                  <img class=title src='images/video-thumbnail-generator.png' style='top:10px;height:55px' alt='video thumbnail generator'>
                  <h1 slot=seo-hdr class=visually-hidden>video thumbnail generator</h1>
                  <time slot=date datetime=2025-11-28>28 Nov 2025</time>
            </video-hdr>
            
            <div>
                  <file-mod component></file-mod>
            </div>
            
            <div>
                  thumbnail type
                  <span id=png>
                        <input type=checkbox checked>
                        png
                  </span>
                  <span id=jpg>
                        <input type=checkbox>
                        jpg
                  </span>
                  <span>
                        size
                        <span id=width>
                              width
                              <input value=50>
                        </span>
                        <span id=height>
                              height
                              <input value=-1>
                        </span>
                  </span>
                  <input value=generate type=button>
            </div>
            
            <div>
                  <video controls></video>
            </div>
            <div>
                  <img id=thumbnail>
            </div>
            
            <pre id=output></pre>
            
            <log-mod component></log-mod>
            
      </body>
      
      <script>
      
        var _blob;
        var _uint8;
        
        var ffmpeg;
        var cur   = {};
        var video;
        var img;

        
        var btn   = {};
        var gen   = {};
        
        function initdom(){

          
              hdr.initdom();
              filemod.initdom();
              log.initdom();

              
              $('[value=generate]').onclick   = btn.generate;
              
              video   = $('video');
              img     = $('#thumbnail');
              
              output    = $('#output');
              
        }//initdom
        

  //:
  
  
        btn.generate    = function(){
          
              if(cur.status){
                    log.red('already running');
                    return;
              }
              
              if(!cur.file){
                    log.red('no file selected');
                    return;
              }
              
              var w   = $('#width [value]').value;
              w       = Number(w);
              if(isNaN(w)){
                    log.red('invalid width');
                    return;
              }
              
              var h   = $('#height [value]').value;
              h       = Number(h);
              if(isNaN(h)){
                    log.red('invalid height');
                    return
              }
              
              cur.status    = true;
              
              if($('#png [type]').checked){
                    gen.png();
              }
              
              if($('#jpg [type]').checked){
                    gen.jpg();
              }
              
        }//generate
        
        
        gen.png   = async function(){
          
              var fn      = cur.file.filename;
              var fn2     = fn.split('.')[0];
              var thumb   = fn2+'.png';
              
              var uint8   = _uint8(cur.blob);
              
              await ffmpeg.writeFile(fn,uint8);
              
              var cmd         = `ffmpeg -nostdin -ss 00:00:03.00 -i ${fn} -vframes 1 -vf scale=-1:50 ${thumb}`;
              var args        = cmd.split(' ').slice(1);
              
              var data        = await ffmpeg.readFile(thumb);
              var thumbnail   = _blob(data);
              gen.complete(thumbnail,thumb);
              
        }//png
        
        
        gen.jpg   = function(){
        }//jpg
        
        
        gen.complete    = function(blob,fn){
          
              var url         = window.URL.createObjectURL(thumbnail);
              img.src         = url;
          
        }//complete
        
  //:
  
  
        function source(){
        }//source
        
        
        var complete    = {};
        
        complete.load   = function(file,blob){
          
              cur.file    = file;
              cur.blob    = blob;
              var url     = window.URL.createObjectURL(blob);
              video.src   = url;
              
        }//load
        
        
        complete.save   = function(file){
        }//save
        
        
  //:
  
  
(async()=>{
  
        var {zip}     = await import('https://cdn.jsdelivr.net/gh/javascript-2020/libs/js/io/tiny-unzip/tiny-unzip.m.js');
        var get       = url=>fetch(url).then(res=>res.blob());
        var blob      = await get('https://raw.githubusercontent.com/javascript-2020/external/main/ffmpeg/ffmpeg-wasm/ffmpeg-wasm.zip');
        var fnstr     = (fn,_,js,i1,i2)=>(js=fn+'',i1=js.indexOf('{'),i2=js.lastIndexOf('}'),js.slice(i1+1,i2));
        _blob         = v=>new Blob([v]);
        _uint8        = async v=>dtype(v)=='blob' ? new Uint8Array(await v.arrayBuffer()) : new Uint8Array(v);        
        
        var files     = await zip.rd(blob);
        files.forEach(({name,blob})=>files[name]=blob);
        files['ffmpeg-core.wasm']   = window.URL.createObjectURL(files['ffmpeg-core.wasm']);
        var txt       = ['ffmpeg-core.js','index.js','ffmpeg.js','814.ffmpeg.js'];
        await Promise.all(txt.map(async name=>files[name]=await files[name].text()));
        
        var sandbox       = {};
        
        sandbox.worker    = function(){

              self.fetch        = url=>new Promise(async res=>res(new Response('Not Found',{status:404})));
              self.onmessage    = ({data:{lib,file}})=>{var importScripts=()=>self.eval(lib);eval(file)}
                                  
        }//worker        
        
        sandbox.main    = function(){
                                  
        (()=>{
        
              var globalThis    = {document:{currentScript:{src:'https://null.com/'}}};
              function Worker(url){
                                                                                console.log('worker-sandbox',`${url}`);
                    var js        = fnstr(sandbox.worker);
                    var blob      = new Blob([js]);
                    var url2      = window.URL.createObjectURL(blob);
                    var worker    = new window.Worker(url2);
                    var lib       = files['ffmpeg-core.js'];
                    var name      = url.pathname.split('/').at(-1);
                    var file      = files[name];
                    worker.postMessage({lib,file});
                    return worker;
                    
              }//worker
  
              eval(files['ffmpeg.js']);
              
        })();
                    
        }//main        
        
        eval(fnstr(sandbox.main));
        eval(files['index.js']);        

        var {fetchFile}   = FFmpegUtil;
        var {FFmpeg}      = FFmpegWASM;
        
        ffmpeg            = new FFmpeg();
        await ffmpeg.load({coreURL:'ffmpeg-core.js',wasmURL:files['ffmpeg-core.wasm']});

        ffmpeg.on('log',({message})=>console.log(message));
        await ffmpeg.exec(['-version']);  

})();

        function disp(str){
          
              var div   = document.createElement('div');
              div.textContent   = str;
              output.append(div);
              
        }//disp
        
      </script>
      
</html>



            