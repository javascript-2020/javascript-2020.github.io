

<output-root>

      <template shadowrootmode=open>
      
            <link rel=stylesheet href='css/github-markdown-light.css'>
            <style>
            
                  #output {height:100%;border:2px solid lightgray;box-sizing:border-box;padding:10px}
                  
            </style>
            
            <div id=output class=markdown-body>
            </div>
            
      </template>
      
      <script>
      
(function output({mod,root,node}){
                                                                    console.log('output');
  var obj   = {};

      var $;
      
      obj.initmod   = function(params){
        
            $       = params.$;
            
      }//initmod

      
  //vars:-
                
      var md;
      
      var root;
      var shadow;
      
      var output;

      
  //:

  
      obj.init    = function(){
        
            
      }//init


      libs();

      function libs(){
        
            libs    = new Promise(resolve=>{
              
                  var script      = document.createElement('script');
                  script.src      = 'https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js';
                  script.onload   = onload;
                  document.head.append(script);
                  
                  
                  function onload(){
                    
                        md    = markdownit();
                        resolve();
                        
                  }//onload
                  
            });
            
      }//libs
      
  //:

  
      obj.initdom   = function(rootnode){
      
            root                = $.$(rootnode,'output-root');
            shadow              = root.shadowRoot;
            
            output              = $(shadow,'#output');

            
      }//initdom


  //:
  
      
      
      obj.display   = async function(txt){

            await libs;
            
            var html            = md.render(txt);
            output.innerHTML    = html;
            
      }//show
      

      
  return obj;
  
});//output
            
      </script>
      
</output-root>

