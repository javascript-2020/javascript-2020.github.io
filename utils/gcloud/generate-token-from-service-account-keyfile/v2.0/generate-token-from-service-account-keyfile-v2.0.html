


<!DOCTYPE html>

<html>

      <head>
            <meta charset=utf-8>
            
            <title>
                  Google Cloud Generate Token From Service Account KeyFile
            </title>
            
            <meta name=description content='google cloud generate token from service account keyfile'>
            
            <base href='https://ext-code.com/utils/gcloud/generate-token-from-service-account-keyfile/'>
            <link rel=canonical href='https://ext-code.com/utils/gcloud/generate-token-from-service-account-keyfile/generate-token-from-service-account-keyfile.html'>
            
            <link rel=icon href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAABxVBMVEVHcExeiuEePYxxkts5VpUuSJpfi+FZht9EddoZQq8zX8RLetxfiNeRbltmkuWVlLPdrlpdcbw6ac46Vqhdh9waQKtggtk3YMbQzcBoidbToFHuzo1kjeEmT7nitmEWOaJTddNHbc5AbtJZfddHcdAeRrAtR5pukttnjuFzluF8iq9Kd9V/nN9qkeHAkFXgqk7ouFxolOkyR5Wwf0RDN1wuQYweNZC7nGpNT3scOJmqkGs6bdg8btg5a9bvmgc/cNlIed1Of+FFdt03aNNdjOdlk+pRguNCdNzi0LVLfN9hkOidgWjvnQpJet9aieUzZM87b9tXh+WQqNtBctrvpiHtlQRUheN4iLAuXcsuWMLmtFXskQKthEzvpB92d5DwqSjrvF7qnxnyrS7l1bqUrN6Bk7lGcNCjkn32tDfq3MSdtueYseEeO6IlRq4/bdV7gp6EcHFBbMyPjpVFaL/GqnfJto08YLytlXOmu+XLnVIyP4g1OHPWpVFVSmrQqWAnU8LisFS9ciVKbMXRgxtacbZcgNHdrFBcfMdbesTRycLSvIqlpaVtj9iln5lwmulSWZDNu5DRpFdjY4vBnGale0y6oHaljnKjk2rgAAAAO3RSTlMAZAMMAh+vr8vhq8cPCGUgwR+qIIrg4+ECi48TSOHF4ODhk+DBcB7HlimJcgZVD/3V8iK/RR/i+Cfe9Mct7OMAAAHbSURBVCjPhdNnW9NAAMDx0qLM2mVZshVQWeLWJr00AWqAEiEE2rSkARE72XtvEVEUhM/LXe4KIc8j/F/kRX7PJTcSk+nOmsofwLIMlVsIN7d1dLX3Dnb6fDzPBwIMqZHwQ6h9nT6eYVm/CACgUEB0ZhP+nVhKJJLJ5Bisn3RMOc2El+Lx+BfYJ10/9vMJl87HYrHR0Wg0OoAa1opOZvj5AbSBEVgPyQuLEH7W8BU2hJqMSF6MiPHUnpKJB+DE93Ylr/cGm+/r1rWzHQ5LkhSG10i+ycB+cXyqO5PypPCaBxGLaFMA+KwFQK1ZNzrAwC2jcB6t3EI9syJFT09zHO3xGBieB8+I1OGvubmZWYGm6RsMj8vHs+D7kbq8LC8uCBx2wl2YJ36qUysr3bIS5LTxFOYc/Gr/+J+/q6n0ifwtpA2njDy/tppKnapXXIC5Hc+MnlH/ra+fqQphUGDBjPaMFT2zi/LBFnx2EC2OAhlGnxlaNbegbGwooSAajL4mjbOdEzTHCYIQDG2mzy/Sm5ChsSyjsakuT8vtrqp6++7jB3dFRXFxTfXjoqLSEsTW+nukN+8r7a9fulwuh8Nhs9ksxh/CWrn2quX//4vVLr94dBu32m/jsjJbif7GJSYFrVsaLrNGAAAAAElFTkSuQmCC'>
            <meta name=viewport content='width=device-width, initial-scale=1'>
            
            <script type='application/ld+json'>
                  {
                        "@context"              : "https://schema.org",
                        "@type"                 : "SoftwareApplication",
                        "name"                  : "Google Cloud Generate Token From Service Account KeyFile",
                        "url"                   : "https://ext-code.com/utils/gcloud/generate-token-from-service-account-keyfile/generate-token-from-service-account-keyfile.html",
                        "author"                : {"@type":"Person","name":"Matthew Richards"},
                        "description"           : "google cloud generate token from service account keyfile",
                        "applicationCategory"   : "DeveloperApplication",
                        "operatingSystem"       : "All",
                        "browserRequirements"   : "Requires JavaScript-enabled browser",
                        "softwareVersion"       : "1.0.0",
                        "offers"                : {"@type":"Offer","price":"0","priceCurrency":"GBP"}
                  }
            </script>


            <script src='https://ajaxorg.github.io/ace-builds/src-noconflict/ace.js'></script>
            
            <!--
            <script src='generate.js'></script>
            -->

            
            <script src='https://libs.ext-code.com/js/dom/component/component.js'></script>

            <script init>
                                                                                console.clear();
                                                                                console.log('backup-github-repo.html');
                                                                                console.log();
                                                                                console.json=v=>console.log(JSON.stringify(v,null,4));
        var df=true,version='v2.0'
        ;
        
        var ace;
        
        var ext;
        var $;
        var datatype;
        var menumod;
        var keydown;
        var debug;
        
        var menu;
        
        var hdr;
        var script;
        var log;
      
      
        async function init(){
          
              menu      = menumod();
              
              hdr       = mod['gcloud-hdr'];
              script    = mod['script'];
              log       = mod['log-mod'];
              
              hdr.initmod({ext,$,menu});
              script.initmod({ext,$,menu,ace});
              log.initmod({ext,$});
              
              await Promise.all([
                    hdr.init(),
                    script.init(),
                    log.init(),
              ]);
              
              
              initdom();
              
        }//init
        

(async()=>{

        mod.stack.add;
        
        ({ext}    = await import('https://libs.ext-code.com/js/io/ext-loader/ext-loader.m.js'));
          
        var promise   = ext.load.libs(
              'js/dom/$.js',
              'js/core/datatype.js',
              'js/dom/menumod/menumod.js',
              'js/dom/keydown/keydown.js',
              'js/debug/debug.js',
        );
        [$,datatype,menumod,keydown,debug]   = await promise;

  
        //JSZip   = (await import('https://cdn.jsdelivr.net/npm/jszip/+esm')).default;

        mod.stack.complete;
              
})();

            </script>
            
            
            <style>

  html
    {height:100%;font-family:arial}
    
  body
    {height:calc(100% - 40px);display:flex;flex-direction:column;gap:10px;margin:20px}

  input
    {font-size:16px;padding:5px 10px}
  input[type=button]
    {cursor:pointer}



    
  #output
    {white-space:pre-wrap;font-family:monospace;word-break:break-all;border:1px solid lightgray;border-radius:10px;padding:10px;
      height:350px;flex: 0 0 auto;margin-bottom:30px;
    }

  web-editor
    {border:1px solid lightgray;padding:10px}
    
  .visually-hidden 
    {position:absolute;clip:rect(0 0 0 0);width:1px;height:1px;overflow:hidden;}
    
            </style>
            
      </head>
      
      
      <body>

            <gcloud-hdr component=grp>
                  <h1 class=visually-hidden>generate access token from service account keyfile</h1>
                  <img class=title src='images/generate-token-from-service-account-keyfile.png' style='top:5px;height:60px' alt='generate access token from service account keyfile'>
                  <time slot=date datetime=2025-11-01>1 Nov 2025</time>
            </gcloud-hdr>
      
            <div>
                  select service account keyfile
            </div>
            
            <div>
                  <input id=file type=file>
            </div>
            
            <div>
                  <input value=copy type=button>
                  <input value=new type=button>
            </div>
            
            <div id=output>
            </div>
            
            
            <web-editor id=script component fullsize src='generate.js'></web-editor>
            
            
            <log-mod component></log-mod>
            
      </body>


      <script>

      
        var keyfile;
        var token;
        
        var scope       = 'https://www.googleapis.com/auth/devstorage.read_write';


        var btn         = {};
        
      
        function initdom(){


              hdr.initdom();
              script.initdom();
              log.initdom();

          
              $('[value=copy]').onclick     = btn.copy;
              $('[value=new]').onclick      = btn.new;
              
              
              file.onchange                 = onchange; 


        
        }//initdom
        

  //:
  
  
        btn.copy    = function(){
              
              if(!token){
                    disp('no token');
                    return;
              }
              navigator.clipboard.writeText(token);
              disp('token copied');
                    
        }//copy
        
        
        btn.new   = async function(){
              
              if(!keyfile){
                    disp('no service account file');
                    return;
              }
              create();
              
        }//new


        async function onchange(){
            
              var blob      = file.files[0];
              var txt       = await blob.text();
              keyfile       = JSON.parse(txt);
              create();
            
        }//onchange
              
        
  //:


        async function create(){
          
              output.replaceChildren();
              
              gen();
              
              var {json,error}    = await generate(keyfile,scope);

              if(error){
                    disp.error(error);
                    return;
              }
              
              token   = json.access_token;


              
              disp.json(json);
              
              disp();
              
              disp('token');
              disp(token);
              
              disp();
              
              navigator.clipboard.writeText(token);
              disp('copied to clipboard');
          
        }//create
        
        
        function gen(){
          
              var txt   = script.getvalue();
              window.eval(txt);
              
        }//gen


        function disp(){
        
              console.log.apply(console,arguments);
              
              var str   = [...arguments].join(' ');
              var div   = document.createElement('div');
              div.textContent   = str;
              div.style.cssText   = 'margin-bottom:10px';
              output.append(div);
              
              output.scrollTop    = output.scrollHeight;
              return div;
              
        }//disp
        
        
        disp.error    = function(){
          
              var div           = disp.apply(null,arguments);
              div.style.color   = 'red';
              
        }//error
        
        
        disp.json   = function(v){
          
              var str   = JSON.stringify(v,null,4);
              disp(str);
              
        }//json



   
      </script>
      
      
</html>




