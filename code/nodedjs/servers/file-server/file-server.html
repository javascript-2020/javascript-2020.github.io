


<!DOCTYPE html>

<html lang=en>

      <head>
            <meta charset=utf-8>
            
            <title>
                  file-server
            </title>
            
            
            <script src='https://libs.ext-code.com/js/dom/component/component.js'></script>
            <script src='https://libs.ext-code.com/js/dom/init-hdr/init-hdr.js'></script>
            
            <script>
            
            
        function start(){
                                                                                debug('start');
              initdom();
              
        }//start
        
        
            </script>
            
            <style>
            
  html
    {font-family:arial}
    
    
  #hdr
    {display:flex;justify-content:space-between}
  #hdr>div:first-of-type
    {display:flex;gap:20px}
    
  code
    {display:block;white-space:pre;font-family:monospace;margin:20px;padding:20px;background:whitesmoke}
    
    
    
  web-editor
    {display:block;height:200px;margin:20px;border:1px solid lightgray;padding:10px}
    
    
  input
    {font-size:16px;padding:5px 10px}
  input[type=button]
    {cursor:pointer}
    
    
            </style>
            
      </head>
      
      
      <body>
      
      
            <div id=hdr>
            
                  <div>
                        <a href='https://ext-code.com/'>
                              home
                        </a>
                        
                        <a href='../../code.html'>
                              code
                        </a>
                  </div>
                  
                  <h1>
                        file-server
                  </h1>
                  
                  <div>
                        19 Dec 2025
                  </div>
                  
            </div hdr>
            
            
            <div>
            
            
                  <p>
                        This code module implements a lightweight HTTPS server that exposes direct file system operations to the browser through a simple fetch‑based API. By sending requests such as
                  </p>
                  
                  <div>
                        <input value=download type=button>
                  </div>
                  
                  <code>
                  
      fetch("https://localhost:3000/a.txt", { headers: { mode: "load" } })
      
                  </code>
                  
                  <p>
                        the browser can interact with local files securely and consistently.
                  </p>
                  
                  <p>
                        Supported operations include:
                  </p>
                  
                  <p>
                        load → retrieve file contents
                  </p>
                  
                  <p>
                        save → write or overwrite file data
                  </p>
                  
                  <p>
                        file delete → remove a file
                  </p>
                  
                  <p>
                        dir read → list directory contents
                  </p>
                  
                  <p>
                        dir create → make a new directory
                  </p>
                  
                  <p>
                        dir delete → remove a directory
                  </p>
                  
                  <p>
                        Together, these commands provide a complete set of standard file I/O capabilities accessible from the browser. This member sits at the Code stage of the pipeline: more substantial than a library, since it defines a working server with a defined protocol, but not yet a full project. It serves as a foundation for building browser‑driven file management tools, developer utilities, or experimental web‑native applications.
                  </p>
                  
            </div>
            
            <web-editor component h=200>
            
                  [ not implemented yet ]
                  
            </web-editor>
            
      </body>
      
      <script>
      
      
        var jszip;
        
        
        var btn   = {};
        
        
  //:
  
  
        function initdom(){
        
              $('[value=download]').onclick       = btn.download;
              
        }//initdom
        
        
  //:
  
  
        btn.download    = async function(){
        
              if(!jszip){
                    jszip   = await import('https://cdn.jsdelivr.net/npm/jszip/+esm');
                    jszip   = jszip.default;
              }
              
              var zip       = new jszip();
              zip.folder(`file-server`);
              
              var res       = await fetch('https://raw.githubusercontent.com/javascript-2020/code/main/nodejs/server/file-server/file-server.js');
              var blob      = await res.blob();
              zip.file(`file-server/file-server.js`,blob);
              
              zip.folder(`file-server/node_modules`);
              
              var res       = await fetch('https://raw.githubusercontent.com/javascript-2020/libs/main/js/string/getmime/getmime.js');
              var blob      = await res.blob();
              zip.file(`file-server/node_modules/getmime.js`,blob);
              
              var res       = await fetch('https://raw.githubusercontent.com/javascript-2020/libs/main/nodejs/keys/keys.js');
              var blob      = await res.blob();
              zip.file(`file-server/node_modules/keys.js`,blob);
              
              var blob      = await zip.generateAsync({type:'blob'});
              
              var url       = window.URL.createObjectURL(blob);
              var a         = document.createElement('a');
              a.download    = 'file-server';
              a.href        = url;
              a.click();
              
        }//download
        
        
      </script>
      
</html>





