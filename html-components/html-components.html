

<!doctype html>

<html lang=en>

      <head>
            <meta charset=utf-8>
      
            <title>
                  HTML Components
            </title>
            
            <base href='https://ext-code.com/html-components/'>
            <link rel=canonical href='https://ext-code.com/html-components/html-components.html'>
            
            <link rel=icon type='image/x-icon' href='/favicon.ico'>
            <meta name=viewport content='width=device-width, initial-scale=1'>


            <script src='https://cdn.jsdelivr.net/npm/ace-builds@1.37.0/src-min-noconflict/ace.js'></script>


            <script src='https://libs.ext-code.com/js/dom/component/component.js'></script>
        
            <script init>
                                                                                console.clear();
                                                                                console.log('html-editor-v2.0.html');
                                                                                console.log();
                                                                                console.json=v=>console.log(JSON.stringify(v,null,4));
        var df=true,version='v1.0'
        ;
        
        var ace;
        
        var ext;
        var $;
        var datatype;
        var menumod;
        var keydown;
        var debug;

        var menu;
        
        var hdr;
        var log;
        
        var ex    = {};
        var ex1;
        var ex2;
        var ex3;
        
        
        async function init(){
        
              menu                    = menumod();
              
              hdr                     = mod['html-components-hdr'];
              log                     = mod['log-mod'];
              
              ex1                     = mod.ex1;
              ex2                     = mod.ex2;
              ex3                     = mod.ex3;
              ex['web-editor-demo']   = mod['web-editor-demo'];
              

              hdr.initmod({ext,$,menu,log});
              log.initmod({ext,$});
              
              ex1.initmod({ext,$,menu,ace});
              ex2.initmod({ext,$,menu,ace});
              ex3.initmod({ext,$,menu,ace});
              ex['web-editor-demo'].initmod({ext,$,menu,ace});
              
              await Promise.all([
                    hdr.init(),
                    log.init(),
                    ex1.init(),
                    ex2.init(),
                    ex3.init(),
                    ex['web-editor-demo'].init(),
              ]);
              
              initdom();
              
        }//init

        
(async()=>{

        mod.stack.add;
        
        ({ext}    = await import('https://libs.ext-code.com/js/io/ext-loader/ext-loader.m.js'));
          
        var promise   = ext.load.libs(
              'js/dom/$.js',
              'js/core/datatype.js',
              'js/dom/menumod/menumod.js',
              'js/dom/keydown/keydown.js',
              'js/debug/debug.js',
        );
        [$,datatype,menumod,keydown,debug]   = await promise;
  
        mod.stack.complete;
              
})();
        
            </script>
        
        
        
            <style>
        
  html
    {height:100%;font-family:arial}
    
  body
    {height:calc(100% - 40px);display:flex;flex-direction:column;gap:20px;margin:20px}

  [component]
    {display:none}
    
  input
    {font-size:16px;padding:5px 10px}
  input[type=button]
    {cursor:pointer}
  input[type=checkbox]
    {width:15px;height:15px;margin:0}


  .description 
    {text-align:justify;border-left:4px solid #4a90e2;padding:1rem;
      background-color:#f9f9f9;font-family:system-ui,sans-serif;font-size:1rem;line-height:1.6;color:#333}
  .description>p
    {margin:0}
  .description > p+p
    {margin:10px 0}



  a
    {color:#4a90e2;text-decoration:none;font-weight:500}
  a:hover 
    {text-decoration:underline}
  .link-domain
    {font-size:0.85rem;color:#777;margin-left:0.25rem}
  .link-domain::before 
    {content:'['}
  .link-domain::after
    {content:']'}
  .link-txt
    {}


        
  .hr2
    {border-top:1px solid blue;margin:30px}



  code, code-src
    {display:block;white-space:pre;background:whitesmoke;padding:10px;font-family:monospace;font-size:16px}

    
            </style>
        
        
        
      </head>

    
      <body>



            <html-components-hdr v2.0 component=page>
                  <img class=title src='images/html-components.png' style='top:-5px;height:80px' alt='deploy cloud run service'>
                  <time slot=date datetime=2025-11-08>08 Nov 2025</time>
            </html-components-hdr>
    
    



            <div id=scroll>
            
                  <div id=center>

                    <div>
                          <h3>
                                Getting Started
                          </h3>
                          <p>
                                to get web components working include the component library
                          </p>
                          
                          <code-src src='ex/component-include.js'></code-src>
                          
                          <p>
                                after that any elements with a 
                                <b>
                                      [component]
                                </b>
                                attribute will be treated as a web component module
                          </p>
                          
                          <code>
                                <script type=text/html>
                                
                                      <web-editor component></web-editor>
                                      
                                      <web-editor component id=test></web-editor>
                                      
                                </script>
                          </code>
                          
                          <p>
                                the component.js library exposes a 
                                <b>
                                      mod
                                </b>
                                object, which holds as its keys the component modules, the key is either the element nodename,
                                or its id, the id can be used when the page contains multiple of the same component
                          </P>
                                
                          <code>
                          
                                var editor    = mod['web-editor'];
                                
                                var editor2   = mod.test;
                                
                          </code>
                                
                          <snippet-html id=web-editor-demo component src='ex/web-editor-demo.html'></snippet-html>
                                
                          
                    </div>


                    <div style='margin-top:30px'>
                    
                          <p>
                                view the full list of components
                                <br>
                                <a href='html-component-list/html-component-list.html'>
                                      html component list
                                </a>
                          </p>

                          <p>
                                view the 
                                <b>
                                      component.js
                                </b>
                                library documentation and api
                                <br>
                                <a href='component-library/component-library.html'>
                                      component library
                                </a>
                          </p>
                          
                          <p>
                                to me a component / module will have a standard lifecycle that is
                          </p>
                          <ul>
                                <li>
                                      initmod, this is where local depencies are passed to the component, they fundamentally should not be relying on global
                                      state to receive their local depencies
                                </li>
                                <li>
                                      init, this is where the component first get executed, its an asynchronous function that allows the component to check
                                      that it has everything it needs to run, including access to the network to load resources it may need
                                </li>
                                <li>
                                      initdom, this is where the component is able to set up its ui, internally build the references it needs to run effeiciently
                                      in code
                                </li>
                          </ul>
                          <p>
                                components should also be effectively namespaced so they are free to load any other components that they may need without having to
                                worry that there will ever be a clash
                          </p>
                    </div>
        
                    <div>
                          <p>
                                the component library just needs to be included as a script tag, it exposes a global property mod,
                                it runs on window.onload, it has a fundatmental loading stack that allows
                                init runs to be delayed until the loading stack is complete
                          </p>
                    </div>
                    <br>
                    <br>
                    <div>
                          <p>
                                i demonstrate here a simple setup that loads a log-mod element whos function is to log toaster style messages
                                in a webpage
                          </p>
                          <p>
                                the common elements to this setup are the inclusion of the component script, the initialisation ( init ) function
                                and the initdom
                          </p>
                          
                          <snippet-html-console id=ex1 component v2.0 src='ex/log-ex.html' style='display:block;margin-top:100px'></snippet-html-console>
                          
                    </div>
                    
                    <div style='display:block;margin-top:100px'>
                          <p>
                                this is the code for the log-mod component
                          </p>
                          
                          <web-editor id=ex2 component fullsize src='https://libs.ext-code.com/html/log-mod/log-mod.html'></web-editor>
                          
                    </div>
        
              
        
        
        
        <div class=hr2></div>
        
        




                    <div style="margin-bottom: 20px;">
                          i include here a standard example of web components, which i feel went some way as to introducing the ability to include complex functionality
                          into web pages, i feel however it fell short on a number of issues i have solved with my component.js library, these are
                          <ul>
                                <li>
                                      elements were scoped to the global namespace, always a problem when functionality gets ever more complex its only a matter
                                      of time before clashes occur
                                </li>
                                <li>
                                      methods and properties associated with the component were added to the host node of the element, again thats ok for simple
                                      components, but when components get ever more complex its going to be a problem
                                </li>
                          </ul>
                    </div>


        <web-editor id=ex3 component fullsize>
        
              class newElement extends HTMLElement {
              
                    constructor(){
                    
                          super();
                    
                          var root    = this;
                          
                          
                    }//constructor
                    
                    connectedCallback(){}
                    
                    disconnectedCallback(){}
                    
                    static get observedAttributes(){}
                    
                    attributeChangedCallback(name,oldValue,newValue){}
                    
                    adoptedCallback(){}
                    
                    render(){}
                    
                    // A getter/setter for a disabled property.
                    get disabled(){}
                    set disabled(){}
                    
                    // A getter/setter for an open property.
                    get open(){}
                    set open(){}
                    
              }//class                    
                    
        </web-editor>

                        <br>
        
                        <div id=links>        
                              <a href='https://web.dev/articles/custom-elements-v1'>Custom Elements v1 - Reusable Web Components<a>
                              <a href='https://syntackle.com/blog/web-components-and-custom-elements-5LuzI/'>Web Components & Custom Elements</a>
                              <a href='https://javascript.info/custom-elements'>Custom elements</a>
                              <a href='https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_custom_elements'>Using custom elements</a>
                              <a href='https://blog.jim-nielsen.com/2023/html-web-components-an-example/'>HTML Web Components: An Example</a>
                              <a href='https://web.archive.org/web/20140118032429/http://www.html5rocks.com/en/tutorials/webcomponents/customelements/'>Custom Element : Defining new elements in html</a>
                        </div>
        

                  </div>
            </div>


            <log-mod component></log-mod>
            
      </body>
    
      <script>

        var trim    = txt=>{
              var indent    = '       ';
              txt   =  ('\n'+txt.trim()+'\n').split('\n').map(line=>indent+line.trimStart()).join('\n');
              return txt;
        };
        
        document.querySelectorAll('code script').forEach(node=>{
              var indent    = '       ';
              //var txt       = ('\n'+node.textContent.trim()+'\n').split('\n').map(line=>indent+line.trimStart()).join('\n');
              node.parentNode.textContent   = trim(node.textContent);
        });
        
        document.querySelectorAll('code:not(:has(script))').forEach(node=>node.textContent=trim(node.textContent));
        
        
        

/*              
              var txt       = 
              txt           = txt.trim();
              txt           = '\n'+txt+'\n';
              var lines     = txt.split('\n');
              var indent    = '       ';
              lines         = lines.map(line=>{
                
                    line    = indent+line.trimStart();
                    return line;
                    
              });
              txt   = lines.join('\n');
              node.parentNode.textContent=txt;
          
        });
*/        


  //:
  
  
        function initdom(){

              hdr.initdom();
              log.initdom();
              
              ex1.initdom();
              ex2.initdom();
              ex3.initdom();
              ex['web-editor-demo'].initdom();
              ex['web-editor-demo'].run();
              
              
              
        }//initdom
        
        
      </script>
      
      <script src='https://libs.ext-code.com/html/code-src/code-src.js'></script>
    
</html>





